## 异步：现在与将来

> 事件循环(Event loop)

- 尽管你显然能够编写异步JavaScript代码 (就像前面我们看到的定时代码)，但直到最近(ES6)，JavaScript 才真正内建有`直接的异步`概念。
- 它们都提供了`事件循环`机制来处理程序中多个块的执行，且执行每块时调用`JavaScript引擎`。
- `事件循环`是独立于javascript引擎而存在的，通常由宿主环境提供。
- Event Loop是一个用作队列的`数组`。
- `setTimeout(..)`并没有把你的回调函数挂在事件循环队列中。它所做的是设定一个定时器。当定时器到时后，`环境`会把你的回调函数放在事件循环中。
- `ES6`中`promise`的引入从本质上改变了在哪里管理事件循环，在技术上将其纳入了`javascript`引擎的势力范围。

> 任务

- 在`ES6`中，有一个新的概念建立在事件循环队列之上，叫作`任务队列`。
- `任务队列`是挂在`当前`事件循环`(tick)`队列之后的一个队列。

> 并行线程

- `异步`是关于现在和将来的时间间隙。`并行是关于能够同时发生的事情。
- 并行计算最常见的工具就是进程和线程。
- JavaScript从不跨线程共享数据。
- 多个线程能够共享单个进程的内存（javascript使用单线程避免）。

> 并发

- 两个或多个`进程`同时执行就出现了并发。


> 语句顺序

- 代码中语句的顺序和JavaScript引擎执行语句的顺序并不一定要一致，引擎会在保证最终结果一样的情况下在编译期间执行安全性能优化，重新排列语句执行顺序。