
3.4 数据类型
---


> 前言

- ECMAscript数据类型具有*动态性*。
- ECMAscript有五种基本数据类型`Undefined、Null、Boolean、Number、String`，一种复杂数据类型`Object`。

--- 
> typeof操作符

- `typeof null == ‘object’`:因为特殊值null被视为一个空对象的引用。
- Safari 5及之前版本、Chrome7及之前版本对正则表达式调用`typeof`操作符时会返回`function`，其它浏览器及版本则会返回`object`。

--- 
> Undefined类型

- 声明但未初始化的变量会被自动赋值`undefined`。
- 包含`undefined`值的变量与*尚未定义*的变量有本质区别，对于尚未声明的变量只能执行`typeof`操作。

--- 
> Null类型

- null值表示一个空对象指针。
- `typeof null === 'object'`。
- 如果定义的变量准备在将来用于保存对象，最好将该变量初始化为`null`。
- `undefined`派生自`null`，即`null == undefined` 返回true。

--- 
> Boolean类型

- 拥有`true`和`false`。
- ECMAscript中所有类型的值都有与这两个Boolean等价的值。
- 任何值都可以通过`Boolean()`函数进行转换为Boolean值。
- 通过以上函数转化为`true`的有：*任何非空字符串*、*任何非零数字（包括无穷大）*、*任何对象（包含{}）*。
- 通过以上函数转化为`false`的有：*''（空字符串）*、*0和NaN*、*null*、*undefined*。

--- 
> Number类型

- 使用*IEEE754*格式来表示整数和浮点数值。
- 整数除以*十进制*表示外，还可以通过*八进制*、*十六进制*的字面值表示。
- *八进制*字面值的第一位必须是0，并且其在*严格模式*下将会抛出错误，*十六进制*前两位必须是`0x`。
- 如果字面值中的数值超出了范围，那么前导0将会被忽略，后面的值当做*十进制*数值解析。
- 在进行算数计算时，所有数值最终将会转换成*十进制*数值。
- Javascrit中保存数值的方式可以保存*正零（+0）*、*负零（-0）*，并且两者被认为相等。

>> 浮点数值。
- 保存浮点数值需要的内存空间是保存整数值的两倍，ECMAScript会不失时机地将浮点数值转化为整数值，如`var floatNum = 1.0 `。
- ECMAscript会将那些教书点后面带有6个零以上的浮点数值转换为以`e`表示法表示数值。
- 浮点数数值的最高精度是17位小数，在其算数运算时其精度远远不如整数。
- `0.1+0.2 = 0.30000.....4`, 这是基于`IEEE754`数值的浮点计算的通病。

>> 数值范围
- `Number.MAX_VALUE`保存最大数值，`Number.MIN_VALUE`保存最小数值。
- 使用`isFinite()`函数可以确定一个数值书否是有穷的。

>> NaN
- 表示一个本来要返回数值的操作数未返回数值的情况（这样就不会抛出错误）。
- `NaN === NaN` 返回 fasle。
- isNaN()函数用于判断某个参数是否“不是数值”。如果参数是对象，会首先调用对象的`valueOf()`方法，判断其返回值是否可以转换为*数值*，如果不则继续调用`toString()`方法，再测试其返回值。

>> 数值转换
- `Number()`转换空字符串返回*0*。
- `parseInt()`转换空字符串返回*NaN*，其在解析八进制字面量时，ECMAscript3和5存在分歧，故第二个参数可以指定转换时使用的*基数*。
```
    console.log(parseInt("070"))
    // ES3 输出56，“070”被认为是八进制。
    // ES5 输出70，“070”被认为是十进制。
```
- `parseFloat()`函数只解析十进制，`parseFloat('1.00')`输出*1*。

> String类型
- 在字符串里使用 `\` 符号进行转义。
- 如果字符串中包含双字节字符，字符串的`length`属性可能不会精确的返回字符串中的字符数目。
- ECMAscript中的字符串是*不可变的*，修改某个变量保存的字符串，改变即销毁 -> 新建 -> 填充变量。
- `String()`可以转换任何类型的值，原则：
   - 如果值有`toSrting()`方法，则调用该方法并返回结果。
   - 如果是null，则返回"null"。
   - 如果是undefined，则返回"undefined"。

> Object类型
- `Object`的每个实例都具有下列属性和方法：
   - constructor：保存着用于创建当前对象的函数。
   - hasOwnProperty()：用于检查给定的属性在当前对象实例中是否存在（排除原型）。
   - isPrototypeOf(obj)：用于检查`obj`对象是否是当前对象的原型。
   - proertyIsEnumerable()：用于检查给定的属性是否能够使用`for-in`语句枚举。
   - toString()：返回对象的字符串表示。
   - valueOf()：返回对象的字符串、数值或布尔值表示，通常与`toString()`返回相同。
- `BOM`与`DOM`属于宿主对象，视浏览器环境而定。

